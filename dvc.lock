schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/AI_Real_Classifier/pipeline/stage_01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 635a902ee8b45ef503c44d7820b23150
      size: 451
    - path: src/AI_Real_Classifier/pipeline/stage_01_data_ingestion.py
      hash: md5
      md5: 74f17de8a5b034f26b944fd36672e525
      size: 1113
    outs:
    - path: artifacts/data_ingestion/dataset
      hash: md5
      md5: 227328a9f056a6ae47340a3b04bdb701.dir
      size: 14443415354
      nfiles: 21639
  prepare_base_model:
    cmd: python src/AI_Real_Classifier/pipeline/stage_02_prepare_base_model.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 635a902ee8b45ef503c44d7820b23150
      size: 451
    - path: src/AI_Real_Classifier/pipeline/stage_02_prepare_base_model.py
      hash: md5
      md5: c5ec6c5f06587c3e1a94a2179d1ef006
      size: 982
    params:
      params.yaml:
        CLASSES: 2
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        INCLUDE_TOP: false
        LEARNING_RATE: 0.0001
        WEIGHTS: imagenet
    outs:
    - path: artifacts/prepare_base_model
      hash: md5
      md5: 58d035a5072a499b1615074dbf96c683.dir
      size: 143555856
      nfiles: 2
  model_training:
    cmd: python src/AI_Real_Classifier/pipeline/stage_03_model_training.py
    deps:
    - path: artifacts/data_ingestion/dataset
      hash: md5
      md5: 227328a9f056a6ae47340a3b04bdb701.dir
      size: 14443415354
      nfiles: 21639
    - path: artifacts/prepare_base_model
      hash: md5
      md5: 58d035a5072a499b1615074dbf96c683.dir
      size: 143555856
      nfiles: 2
    - path: config/config.yaml
      hash: md5
      md5: 635a902ee8b45ef503c44d7820b23150
      size: 451
    - path: src/AI_Real_Classifier/pipeline/stage_03_model_training.py
      hash: md5
      md5: fc862bc19483f7d23c636f32f54b2011
      size: 939
    params:
      params.yaml:
        AUGMENTATION: true
        BATCH_SIZE: 64
        EPOCHS: 1
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: artifacts/training/model.h5
      hash: md5
      md5: 56a8db13e4044fc8f3611bfd3c5347b6
      size: 192680712
  model_evaluation:
    cmd: python src/AI_Real_Classifier/pipeline/stage_04_model_evaluation_with_mlflow.py
    deps:
    - path: artifacts/data_ingestion/dataset
      hash: md5
      md5: 227328a9f056a6ae47340a3b04bdb701.dir
      size: 14443415354
      nfiles: 21639
    - path: artifacts/training/model.h5
      hash: md5
      md5: 56a8db13e4044fc8f3611bfd3c5347b6
      size: 192680712
    - path: config/config.yaml
      hash: md5
      md5: 635a902ee8b45ef503c44d7820b23150
      size: 451
    - path: src/AI_Real_Classifier/pipeline/stage_04_model_evaluation_with_mlflow.py
      hash: md5
      md5: 06968831c4f82863981f67e6d0957ec1
      size: 1326
    params:
      params.yaml:
        BATCH_SIZE: 64
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: scores.json
      hash: md5
      md5: ac0cfe4b3dc6262f863dbed962c6b74c
      size: 69
